{"mappings":"YAAA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,SAAUF,SAASC,cAAc,cACjCE,eAAgBH,SAASC,cAAc,uBAGzCH,EAAKC,WAAWK,iBAAiB,SACjC,WACEC,QAAQC,IAAI,SACZ,MAAMC,EAoER,SAA8BC,GAC5B,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,EAG3D,CAFE,MAAOM,GACPV,QAAQU,MAAM,oBAAqBA,EAAMC,QAC3C,CACF,CA3EsBC,CAAqB,gBAEzC,GADAZ,QAAQC,IAAIC,GACPA,GAAgBW,OAAOC,KAAKZ,GAAaa,OAIvC,CACLtB,EAAKK,eAAekB,UAAY,GAChC,MAAMC,EAKV,SAA0BC,EAAQ,IAChC,OAAOA,EACJC,KAAIC,IACH,MAAMC,GAAEA,EAAEC,MAAEA,EAAKC,YAAEA,EAAWC,OAAEA,EAAMC,aAAEA,EAAYC,aAAEA,GACpDN,EACIO,EAA+BH,EAAOL,KAAIS,GAASA,EAAMC,OAoB5CC,QAAO,CAACC,EAAKH,EAAOI,EAAOC,IAC5CA,EAAIlB,OAAS,EACT,GAAGkB,EAAI,OAAOA,EAAI,aAElBA,EAAIC,KAAK,OAIhB,IA3BC,MAAO,kCAAkCb,4KAGoCE,4FACDA,kFACVA,WAAqBD,iFAG/DA,0CACCD,KACvBM,GAAoC,WAChC,IAAIQ,KAAKV,GAAcW,qDACEV,EAAaW,QAAQ,yCAEhD,IAELH,KAAK,GACV,CA5BmBI,CAAiBpC,GAChCT,EAAKK,eAAeyC,mBAAmB,YAAatB,EACtD,KARsD,CACpDxB,EAAKK,eAAekB,UAAY,GAChC,MAAMwB,EA8CD,+bA7CL/C,EAAKK,eAAeyC,mBAAmB,YAAaC,EACtD,CAKF,ICpBA,MAAMC,EAAO,CACXC,cAAe/C,SAASC,cAAc,iBACtC+C,cAAehD,SAASC,cAAc,qBACtCgD,UAAWjD,SAASC,cAAc,sBAYpC,SAASiD,IACPJ,EAAKG,UAAUE,UAAUC,IAAI,aAC7BpD,SAASqD,KAAKC,MAAMC,SAAW,OAC/BC,OAAOpD,iBAAiB,UAAWqD,EACrC,CAQA,SAASA,EAAUC,GACA,WACbA,EAAMC,MACRT,GAEJ,CA1BAJ,EAAKC,cAAc3C,iBAAiB,SAIpC,WACEJ,SAASqD,KAAKC,MAAMC,SAAW,SAC/BT,EAAKG,UAAUE,UAAUS,OAAO,YAClC,IANAd,EAAKE,cAAc5C,iBAAiB,QAAS8C,GAC7CJ,EAAKG,UAAU7C,iBAAiB,SAYhC,SAAyBsD,GAEnBA,EAAMG,gBAAkBH,EAAMI,QAChCZ,GAEJ,KCzBqB,CACnBa,GAAI/D,SAASC,cAAc,WAC3B+D,OAEEC,KAAKF,GAAGZ,UAAUS,OAAO,cAC3B,EACAM,OAEED,KAAKF,GAAGZ,UAAUC,IAAI,cACxB,EACAhD,mBAEEoD,OAAOpD,iBAAiB,UAAU,MAEhBoD,OAAOW,SAAWnE,SAASoE,gBAAgBC,WAEjD,IAAMJ,KAAKD,OAASC,KAAKC,MAAM,IAG3ClE,SAASC,cAAc,WAAWqE,QAAU,KAE1Cd,OAAOe,SAAS,CACdC,IAAK,EACLC,KAAM,EACNC,SAAU,UACZ,CAEJ,ICvBItE,kB","sources":["src/js/watched-library.js","src/js/about-team-modal.js","src/js/button-up.js","src/my-library.js"],"sourcesContent":["const refs = {\n  watchedBtn: document.querySelector('.watched-btn'),\n  queueBtn: document.querySelector('.queue-btn'),\n  galleryLibrary: document.querySelector('.container-library'),\n};\n\nrefs.watchedBtn.addEventListener('click', onWatchedLibrary);\nfunction onWatchedLibrary() {\n  console.log('click');\n  const moviesArray = loadFromLocalStorage('WATCHED-FILM');\n  console.log(moviesArray);\n  if (!moviesArray || !Object.keys(moviesArray).length) {\n    refs.galleryLibrary.innerHTML = '';\n    const markupNothing = createMarkupWhenLocalStorageEmpty();\n    refs.galleryLibrary.insertAdjacentHTML('beforeend', markupNothing);\n  } else {\n    refs.galleryLibrary.innerHTML = '';\n    const markup = createMoviesCard(moviesArray);\n    refs.galleryLibrary.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\nfunction createMoviesCard(cards = []) {\n  return cards\n    .map(card => {\n      const { id, title, poster_path, genres, release_date, vote_average } =\n        card;\n      const genresForRender = concatGenres(genres.map(genre => genre.name));\n      return `<li class=\"home-card__link\" id=${id}>\n\t\t</div class = \"home-card__thumb\">\n\t\t<picture class=\"home-card__poster\">\n\t\t\t\t  <source media=\"(min-width:1280px)\"  srcset=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n\t\t\t\t  <source media=\"(min-width:768px)\"  srcset=\"https://image.tmdb.org/t/p/w400${poster_path}\">\n\t\t\t\t  <img class=\"home-card__img\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\" loading=\"lazy\">\n\t\t\t  </picture>\n\t\t  \n\t\t  <h2 class='card__title'>${title}</h2>\n\t\t  <p class='card__text' id=${id}>${\n        genresForRender ? genresForRender : '---'\n      } | ${new Date(release_date).getFullYear()}\n        <span class=\"card__rating\">${vote_average.toFixed(1)}</span> </p>\n\t\t</div>\n\t\t  </li>`;\n    })\n    .join('');\n}\nfunction concatGenres(arrOfGenresName) {\n  return arrOfGenresName.reduce((acc, genre, index, arr) => {\n    if (arr.length > 2) {\n      acc = `${arr[0]}, ${arr[1]}, Others`;\n    } else {\n      acc = arr.join(', ');\n    }\n\n    return acc;\n  }, '');\n}\n\nfunction createMarkupWhenLocalStorageEmpty() {\n  return `\n  <li class=\"container-nothing\">\n      <div class=\"container-nothing__content\">\n        <h2 class=\"container-nothing__title\">Your library is empty!</h2>\n        <p class=\"container-nothing__text\">\n          <a\n            title=\"Link to main page\"\n            class=\"container-nothing__link\"\n            href=\"/src/index.html\"\n            >GO TO</a\n          >\n          movie selection.\n        </p>\n      </div>\n    </li>\n    `;\n}\n\nfunction loadFromLocalStorage(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\n// function loadWatchedMoviesFromLocalStorage() {\n//   const moviesFromLocalStorage = loadFromLocalStorage('WATCHED-FILM');\n\n//   if (!moviesFromLocalStorage || !Object.keys(moviesFromLocalStorage).length) {\n//     const markupNothing = createMarkupWhenLocalStorageEmpty();\n//     refs.galleryLibrary.innerHTML = markupNothing;\n//   } else {\n//     onWatchedLibrary();\n//   }\n// }\n","const refs = {\n  openModalLink: document.querySelector('.footer__link'),\n  closeModalBtn: document.querySelector('.close-modal__btn'),\n  modalTeam: document.querySelector('[data-team-modal]'),\n};\n\nrefs.openModalLink.addEventListener('click', onOpenModal);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.modalTeam.addEventListener('click', onBackdropClick);\n\nfunction onOpenModal() {\n  document.body.style.overflow = 'hidden';\n  refs.modalTeam.classList.remove('is-hidden');\n}\n\nfunction onCloseModal() {\n  refs.modalTeam.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n  window.addEventListener('keydown', onEscDown);\n}\nfunction onBackdropClick(event) {\n  //   event.currentTarget це бекдроп, до якого прив'язана подія, event.target це елемент, який викликав подію. Якщо вони співпадають, то користувач натиснув на область накладення, а не у середині модального вікна\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscDown(event) {\n  const KEY_CODE = 'Escape';\n  if (event.code === KEY_CODE) {\n    onCloseModal();\n  }\n}\n","export const btnUp = {\n  el: document.querySelector('.btn-up'),\n  show() {\n    // удалим у кнопки класс btn-up_hide\n    this.el.classList.remove('btn-up_hide');\n  },\n  hide() {\n    // добавим к кнопке класс btn-up_hide\n    this.el.classList.add('btn-up_hide');\n  },\n  addEventListener() {\n    // при прокрутке содержимого страницы\n    window.addEventListener('scroll', () => {\n      // определяем величину прокрутки\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      // если страница прокручена больше чем на 400px, то делаем кнопку видимой, иначе скрываем\n      scrollY > 400 ? this.show() : this.hide();\n    });\n    // при нажатии на кнопку .btn-up\n    document.querySelector('.btn-up').onclick = () => {\n      // переместим в начало страницы\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n","import './js/watched-library';\nimport './js/about-team-modal';\nimport { btnUp } from './js/button-up';\n\nbtnUp.addEventListener();\n"],"names":["$44ef74221443e4f6$var$refs","watchedBtn","document","querySelector","queueBtn","galleryLibrary","addEventListener","console","log","moviesArray","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","message","$44ef74221443e4f6$var$loadFromLocalStorage","Object","keys","length","innerHTML","markup","cards","map","card","id","title","poster_path","genres","release_date","vote_average","genresForRender","genre","name","reduce","acc","index","arr","join","Date","getFullYear","toFixed","$44ef74221443e4f6$var$createMoviesCard","insertAdjacentHTML","markupNothing","$4aaca1270a274865$var$refs","openModalLink","closeModalBtn","modalTeam","$4aaca1270a274865$var$onCloseModal","classList","add","body","style","overflow","window","$4aaca1270a274865$var$onEscDown","event","code","remove","currentTarget","target","el","show","this","hide","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior"],"version":3,"file":"my-library.0bb50c1f.js.map"}