{"mappings":"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","sources":["src/js/api.js","src/js/Templates/storage.js","src/js/renderCards.js","src/js/home-page.js","src/js/movie-card-modal.js","src/js/local-storage.js","src/js/markup-trailer.js","src/js/search-movies.js","src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '9fae0fdf266213c68361ca578a95b948';\nexport default class FetchApiMovies {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.language = 'en-US';\n  }\n  // Реалізація для запиту на список найпопулярніших фільмів на сьогодні для створення колекції на головній сторінці:\n  async fetchPopularMovies() {\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/trending/all/day?api_key=${API_KEY}&language=${this.language}&page=${this.page}`\n      );\n      return await response.data;\n    } catch (error) {\n      error;\n    }\n  }\n  // Реалізація для запиту фільму за ключовим словом на головній сторінці:\n  async fetchSearchMovies() {\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/search/movie?api_key=${API_KEY}&language=${this.language}&page=${this.page}&query=${this.searchQuery}&include_adult=false`\n      );\n      return await response.data;\n    } catch (error) {\n      error;\n    }\n  }\n  // Реалізація для запиту повної інформації про кінофільм для сторінки кінофільму:\n  // Реалізація для запиту повної інформації про можливий трейлер на YouTube:\n  async fetchIdMovies(movieID) {\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/movie/${movieID}?api_key=${API_KEY}&language=${this.language}`\n      );\n      return await response.data;\n    } catch (error) {\n      error;\n    }\n  }\n\n  // Реалізація для запиту за жанрами:\n  async fetchGenresMovies() {\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=${this.language}`\n      );\n      return await response.data;\n    } catch (error) {\n      error;\n    }\n  }\n  // Fetch підвантаження трейлера до фільму для модального вікна\n  async fetchMoviesTrailers(id) {\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/movie/${id}/videos?api_key=${API_KEY}&language=${this.language}&page=${this.page}`\n      );\n      return await response.data;\n    } catch (error) {\n      error;\n    }\n  }\n\n  incrementPage() {\n    return (this.page += 1);\n  }\n\n  decrementPage() {\n    if (this.page === 1) {\n      return;\n    }\n    return (this.page -= 1);\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get pageNum() {\n    return this.page;\n  }\n\n  set pageNum(newPage) {\n    this.page = newPage;\n  }\n}\n","export const save = (key, genres) => {\n  try {\n    const serializedState = JSON.stringify(genres);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport function load(genres) {\n  try {\n    const serializedState = localStorage.getItem(genres);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\nexport default {\n  save,\n  load,\n};\n","export function renderMoviesCard(cards) {\n  refs.cardList.insertAdjacentHTML('beforeend', createMoviesCard(cards));\n}\n\nexport function clearMoviesContainer() {\n  refs.cardList.innerHTML = '';\n}\n\nimport FetchApiMovies from './api';\nimport { load } from './Templates/storage';\n// import { genres } from './Templates/genres';\nconst refs = {\n  cardList: document.querySelector('.cards__list'),\n};\n\nconst fetchApiGenres = new FetchApiMovies();\nconst GENRE_KEY = 'genres';\nlet genreList = {};\n\nasync function addGenresMovies() {\n  // spinerPlay();\n  try {\n    const data = await fetchApiGenres.fetchGenresMovies();\n    data.genres.forEach(genre => (genreList[genre['id']] = genre['name']));\n  } catch (error) {\n    console.log(error);\n    // Notify.failure(error.message);\n    // refs.pagination.classList.add('is-hidden');\n  }\n  //   spinerStop();\n}\n\nfunction loadGenres(genres) {\n  if (localStorage.key === GENRE_KEY) {\n    return (genreList = load(GENRE_KEY));\n  }\n  return genres.reduce((acc, genre, index, arr) => {\n    if (arr.length > 2) {\n      acc = `${arr[0]}, ${arr[1]}, Others`;\n    } else {\n      acc = arr.join(', ');\n    }\n\n    return acc;\n  }, '');\n}\n\nasync function saveToLocalStorage() {\n  if (localStorage.key === GENRE_KEY) {\n    return;\n  }\n  // spinerPlay();\n  await addGenresMovies();\n  // spinerStop();\n}\n\nfunction createMoviesCard(cards = []) {\n  //   spinerPlay();\n  saveToLocalStorage();\n  //   spinerStop();\n  return cards\n    .map(card => {\n      const { id, title, poster_path, genre_ids, release_date } = card;\n      //   const genresList = genres.map(genre => genre.name).join(', ');\n      //   const genresRender = loadGenres(genres.map(genre => genre.name));\n      return `<li class=\"home-card__link\" id=${id}>\n\t\t\t  <div class = \"home-card__thumb\">\n\t\t\t  <picture class=\"home-card__poster\">\n\t\t\t\t\t\t<source media=\"(min-width:1280px)\"  srcset=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n\t\t\t\t\t\t<source media=\"(min-width:768px)\"  srcset=\"https://image.tmdb.org/t/p/w400${poster_path}\">\n\t\t\t\t\t\t<img class=\"home-card__img\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\" loading=\"lazy\">\n\t\t\t\t\t</picture>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card__content\">\n\t\t\t\t<h2 class=\"card__title\">${title}</h2>\n\t\t\t\t<p class=\"card__text\">${\n          loadGenres(genre_ids)\n          //   genresRender ? genresRender : '---'\n        } | ${new Date(release_date).getFullYear()}</p>\n\t\t  </div>\n\t\t\t\t</li>`;\n    })\n    .join('');\n}\n","import FetchApiMovies from './api';\n\nimport { renderMoviesCard } from './renderCards';\nimport { clearMoviesContainer } from './renderCards';\n//import { pagePagination } from './pagination';\n\nconst fetchApiHomeContent = new FetchApiMovies();\nshowPopularMovies();\n\nlet pagination = document.querySelector('#pagination');\n\nlet notesOnePage = 10;\n\nasync function showPopularMovies() {\n  try {\n    const data = await fetchApiHomeContent.fetchPopularMovies();\n    const cards = data.results;\n    let countOfItems = Math.ceil(cards.length / notesOnePage);\n\n    let items = [];\n\n    for (let i = 1; i <= countOfItems; i++) {\n      let li = document.createElement('li');\n\n      if (i == 1) {\n        let li_0 = document.createElement('li');\n        li_0.innerHTML = '<li>&#8592;</li>';\n        pagination.appendChild(li_0);\n      }\n\n      if (countOfItems <= 5) {\n        li.innerHTML = i;\n        pagination.appendChild(li);\n        items.push(li);\n      }\n\n      if (countOfItems > 5) {\n        li.innerHTML = i;\n\n        pagination.appendChild(li);\n\n        items.push(li);\n\n        if (i == 1) {\n          let li_2 = document.createElement('li');\n          li_2.innerHTML = '...';\n          pagination.appendChild(li_2);\n        }\n        if (countOfItems - 1 == i) {\n          let li_1 = document.createElement('li');\n          li_1.innerHTML = '...';\n          pagination.appendChild(li_1);\n        }\n      }\n\n      if (i == countOfItems) {\n        let li_max = document.createElement('li');\n        li_max.innerHTML = '<li>&#8594;</li>';\n        pagination.appendChild(li_max);\n      }\n    }\n\n    let showPage = (function () {\n      let active;\n\n      return function (item) {\n        if (active) {\n          active.classList.remove('active');\n        }\n        active = item;\n\n        item.classList.add('active');\n\n        let pageNum = +item.innerHTML;\n        let start = (pageNum - 1) * notesOnePage;\n        let end = start + notesOnePage;\n        renderMoviesCard(cards.slice(start, end));\n      };\n    })();\n\n    showPage(items[0]);\n\n    for (let item of items) {\n      item.addEventListener('click', function () {\n        clearMoviesContainer();\n        showPage(this);\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { genres } from './Templates/genres';\n\nimport { spinner } from './spinner';\n\nimport {\n  WATCHED_FILM,\n  QUEUED_FILM,\n  loadFromLocalStorage,\n  saveToLocalStorage,\n} from './local-storage';\n\n\n// для трейлера до фільму у модалці\nimport FetchApiMovies from './api';\nimport { markupMovieTrailer } from './markup-trailer';\nconst target = document.getElementById('foo');\n\nconst refs = {\n  modalFilmBackdrop: document.querySelector('[data-modal-film]'),\n  modalFilm: document.querySelector('.modal-film'),\n  div: document.querySelector('.modal-film '),\n  cardFilm: document.querySelector('.cards__list'),\n  cardFilmLibrary: document.querySelector('.container-library'),\n};\n\nrefs.cardFilm.addEventListener('click', onOpenModalFilm);\nrefs.modalFilmBackdrop.addEventListener('click', onBackdropClick);\n\n// --------open/close-modal\n\nlet idMovie;\nlet currentMovie;\n\nfunction onOpenModalFilm(e) {\n  refs.modalFilmBackdrop.classList.remove('is-hidden');\n  refs.div.classList.remove('is-hidden');\n  document.body.classList.add('no-scroll');\n\n  document.addEventListener('click', onCloseModalFilmByBtn);\n  window.addEventListener('keydown', onCloseEscBtn);\n\n  const idCard = e.target.closest('.home-card__link').id;\n  console.log(idCard);\n  idMovie = Number(idCard);\n  console.log(idMovie);\n  createMovieCard(idCard);\n\n  fetchMovieById(idCard).then(response => {\n    refs.modalFilm.innerHTML = '';\n    return render(response);\n  });\n\n  if (!refs.modalFilmBackdrop.classList.contains('is-hidden')) {\n    refs.modalFilm.addEventListener('click', onModalLibraryBtnsClick);\n  }\n\n  // // ------ trailer movie-------\n  const boxFetchApiMovies = new FetchApiMovies();\n  boxFetchApiMovies\n    .fetchMoviesTrailers(idCard)\n    .then(data => {\n      console.log(data);\n      // перевірка якщо пустий масив\n      // показувати картинку\n      if (data.results.length === 0) {\n        return;\n      }\n      const picture = document.querySelector('.modal-film-card-wrapper');\n      picture.remove();\n      const markupTrailer = markupMovieTrailer(data.results[0].key);\n      refs.modalFilm.insertAdjacentHTML('afterbegin', markupTrailer);\n    })\n    .catch(error => console.log(error));\n  // // ------------ end treiler movie -------------\n}\n\nfunction onModalLibraryBtnsClick(e, idMovie) {\n  const a = Number(e.target.dataset.id);\n  console.log(a);\n  if (e.target.classList.contains('js-add-watched')) {\n    // checkLocalStorageWatchedMovies(e.target, currentMovie);\n    saveToLocalStorage(WATCHED_FILM, a);\n  } else if (e.target.classList.contains('js-add-queue')) {\n    // checkLocalStorageQueueMovies(e.target, currentMovie);\n    saveToLocalStorage(QUEUED_FILM, a);\n  }\n}\n\nfunction closeModalFilm() {\n  window.removeEventListener('keydown', onCloseEscBtn);\n  document.removeEventListener('click', onCloseModalFilmByBtn);\n  refs.modalFilmBackdrop.classList.add('is-hidden');\n  refs.div.classList.add('is-hidden');\n  document.body.classList.remove('no-scroll');\n}\n\nfunction onCloseModalFilmByBtn(e) {\n  if (\n    e.target.classList.contains('close-modal__btn-text') ||\n    e.target.classList.contains('close-modal__btn-inner') ||\n    e.target.classList.contains('close-modal__btn-text')\n  ) {\n    closeModalFilm();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModalFilm();\n  }\n}\n\nfunction onCloseEscBtn(e) {\n  // console.log(e.code);\n  if (e.code === 'Escape') {\n    closeModalFilm();\n  }\n}\n\n// -----Fetch-by-id---\n\nasync function fetchMovieById(idMovie) {\n  try {\n    spinner.spin(target);\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${idMovie}?api_key=9fae0fdf266213c68361ca578a95b948&language=en-US`\n    );\n    // console.log(response.data);\n\n    return await response.data;\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    spinner.stop();\n  }\n}\n\n// -------Create-interface----\n\nasync function createMovieCard(id) {\n  try {\n    const response = await fetchMovieById(id);\n\n    // console.log(id);\n    refs.modalFilm.innerHTML = '';\n\n    render(response);\n  } catch (error) {\n    closeModalFilm();\n    Notify.failure('Sorry, movie not found. Please try again.');\n  }\n}\n\n// ---Render--\nfunction render(response) {\n  const detailsCard = getModalMovieCardMarkup(response);\n  refs.modalFilm.insertAdjacentHTML('beforeend', detailsCard);\n\n  return response;\n}\n\n// console.log(response);\n\n// ------Markup----\n\nconst getModalMovieCardMarkup = ({\n  id,\n  title,\n  original_title,\n  overview,\n  poster_path,\n  vote_average,\n  vote_count,\n  popularity,\n  genres,\n}) => {\n  const genresList = genres.map(genre => genre.name).join(', ');\n\n  return `\n  <button\n      type=\"button\"\n      class=\"modal-film__close-button close-modal__btn\"\n    >\n    <div class=\"close-modal__btn-inner\">\n    <span class=\"close-modal__btn-text\">Back\n    </span> </div>\n    </button>\n  <div class=\"modal-film__card\"  id=\"${id}\">\n  <div class=\"modal-film-card-wrapper\">\n  <picture class=\"modal-film__img>\n  <source media=\"(min-width:1024px)\" srcset=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n  <source media=\"(min-width:768px)\"  srcset=\"https://image.tmdb.org/t/p/w400${poster_path}\">\n  <img class=\"img-film__poster\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\"  \"alt=\"${title}\" loading=\"lazy\"  >\n</picture>\n</div>\n<div class=\"movie-info\">\n  <h2 class=\"film-title\">${title}</h2>\n  <ul class=\"film-title__list-film\">\n  <li class=\"film-title__item-film\"><p class=\"film-title__value\" >Vote / Votes </p><p class=\"film-title__desc-film\"><span class=\"film-title__vote_average\">${vote_average}</span><span class=\"film-title__slash\">/</span><span class=\"film-title__vote_count\">${vote_count}</span> </p> </li>\n  <li class=\"film-title__item-film\"><p class=\"film-title__value\">Popularity</p><p class=\"film-title__desc-film\">${popularity}</p></li>\n  <li class=\"film-title__item-film\"><p class=\"film-title__value\">Original Title</p><p class=\"film-title__desc-film\">${original_title}</p></li>\n  <li class=\"film-title__item-film\"><p class=\"film-title__value\">Genre</p><p class=\"film-title__desc-film\">${genresList}</p></li>\n  </ul>\n  <h3 class=\"about-title\">About ${original_title}</h3>\n  <p class=\"text-about-movie\">${overview}</p>\n\n  <ul class=\"modal-window_list-btn\">\n      <li class=\"modal-window_list-item-btn\"><button class=\"modal-window__watched-btn js-add-watched\" type=\"button\" data-id=${id}>add to Watched</button></li>\n      <li class=\"modal-window_list-item-btn\"><button class=\"modal-window__queued-btn js-add-queue\" type=\"button\" data-id=${id}>Add to queue</button></li>\n    </ul>\n  </div>\n`;\n};\n","const WATCHED_FILM = 'watchedMovies';\nconst QUEUED_FILM = 'queueMovies';\n\nfunction loadFromLocalStorage(key) {\n  try {\n    const dataJson = localStorage.getItem(key);\n    if (!dataJson) return [];\n    return JSON.parse(dataJson);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\n// function loadFromLocalStorage(key) {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// }\n\nfunction saveToLocalStorage(key, data) {\n  try {\n    const arrayFilms = loadFromLocalStorage(key);\n    arrayFilms.push(data);\n    localStorage.setItem(key, JSON.stringify(arrayFilms));\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\n// function saveToLocalStorage(key, value) {\n//   try {\n//     const serializedState = JSON.stringify(value);\n//     localStorage.setItem(key, serializedState);\n//   } catch (error) {\n//     console.error('Set state error: ', error.message);\n//   }\n// }\n\nexport { WATCHED_FILM, QUEUED_FILM, loadFromLocalStorage, saveToLocalStorage };\n","export function markupMovieTrailer(youtubeKeyId) {\n  return `\n    <iframe id=\"trailer\" class=\"player\" width=\"420\" height=\"315\" allowfullscreen=\"allowfullscreen\"\n    src=\"https://www.youtube.com/embed/${youtubeKeyId}\"\n    frameborder=\"0\"></iframe>\n  `;\n}\n","import FetchApiMovies from './api';\nimport { clearMoviesContainer } from './renderCards';\nimport { renderMoviesCard } from './renderCards';\nimport { spinner } from './spinner';\n\nconst refs = {\n  cardList: document.querySelector('.gallery__list'),\n  formSearch: document.querySelector('.header__form'),\n  notification: document.querySelector('.header__notification'),\n};\nconst target = document.getElementById('foo'); //spinner\n\nconst fetchSearchApi = new FetchApiMovies();\nrefs.formSearch.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  refs.notification.textContent = '';\n  fetchSearchApi.query = e.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  if (fetchSearchApi.query === '') {\n    return notification();\n  }\n  getSearchMovies();\n}\n\nfunction notification() {\n  refs.notification.textContent =\n    'Search result not successful. Enter the correct movie name and try again.';\n}\n\nasync function getSearchMovies() {\n  try {\n    spinner.spin(target); //spinner\n    const data = await fetchSearchApi.fetchSearchMovies();\n    const cards = data.results;\n    console.log(cards);\n    renderMoviesCard(cards);\n    console.log(data);\n    clearMoviesContainer();\n    renderMoviesCard(cards);\n    if (data.total_results === 0) {\n      notification();\n      return;\n    } else {\n      notification();\n    }\n  } catch (error) {\n    notification();\n  } finally {\n    //spinner\n    spinner.stop();\n  }\n}\n","// import { database } from './js/firebase-module';\n\nimport './sass/index.scss';\nimport './js/home-page';\nimport './js/about-team-modal';\nimport './js/movie-card-modal';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { onFormSubmit } from './js/search-movies';\nimport { btnUp } from './js/button-up';\n\nbtnUp.addEventListener();\n"],"names":["$dIxxU","parcelRequire","$8197bff4c39d585a$var$BASE_URL","$8197bff4c39d585a$var$API_KEY","$8197bff4c39d585a$export$2e2bcd8739ae039","async","response","default","get","this","language","page","data","error","searchQuery","movieID","id","incrementPage","decrementPage","resetPage","query","newQuery","pageNum","newPage","constructor","$c32fb61dd5fad7b5$export$11e63f7b0f3d9900","genres","serializedState","localStorage","getItem","undefined","JSON","parse","console","message","$3f7698770ed19e9c$export$f48ccfcd8b08d9f9","cards","$3f7698770ed19e9c$var$refs","cardList","insertAdjacentHTML","key","$3f7698770ed19e9c$var$GENRE_KEY","$3f7698770ed19e9c$var$fetchApiGenres","fetchGenresMovies","forEach","genre","$3f7698770ed19e9c$var$genreList","log","$3f7698770ed19e9c$var$addGenresMovies","$3f7698770ed19e9c$var$saveToLocalStorage","map","card","title","poster_path","genre_ids","release_date","reduce","acc","index","arr","length","join","Date","getFullYear","$3f7698770ed19e9c$var$createMoviesCard","$3f7698770ed19e9c$export$cba41b50396d8e3","innerHTML","document","querySelector","$e0d740ca6c7bcb9c$var$fetchApiHomeContent","fetchPopularMovies","results","countOfItems","Math","ceil","items","i","li","createElement","li_0","$e0d740ca6c7bcb9c$var$pagination","appendChild","push","li_2","li_1","li_max","showPage","active","item","classList","remove","add","start","end","slice","addEventListener","e","$e0d740ca6c7bcb9c$var$showPopularMovies","$3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d","arrayFilms","dataJson","$3791646d3ae2cee8$export$e68c847c0bceb7d5","setItem","stringify","$aba151205406d0ea$var$target","getElementById","$aba151205406d0ea$var$refs","modalFilmBackdrop","modalFilm","div","cardFilm","cardFilmLibrary","$aba151205406d0ea$var$idMovie","$aba151205406d0ea$var$onModalLibraryBtnsClick","idMovie","a","Number","target","dataset","contains","$aba151205406d0ea$var$closeModalFilm","window","removeEventListener","$aba151205406d0ea$var$onCloseEscBtn","$aba151205406d0ea$var$onCloseModalFilmByBtn","body","code","$aba151205406d0ea$var$fetchMovieById","$j1lrD","spinner","spin","stop","$aba151205406d0ea$var$render","detailsCard","$aba151205406d0ea$var$getModalMovieCardMarkup","idCard","closest","$h6c0i","Notify","failure","$aba151205406d0ea$var$createMovieCard","then","fetchMoviesTrailers","markupTrailer","catch","currentTarget","original_title","overview","vote_average","vote_count","popularity","name","$fa87a014714d34b9$var$refs","formSearch","notification","$fa87a014714d34b9$var$target","$fa87a014714d34b9$var$fetchSearchApi","$fa87a014714d34b9$var$notification","textContent","preventDefault","elements","value","trim","toLowerCase","fetchSearchMovies","total_results","$fa87a014714d34b9$var$getSearchMovies","btnUp"],"version":3,"file":"index.18064055.js.map"}