var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequired7c6;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var l={id:t,exports:{}};return e[t]=l,i.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequired7c6=i);var l=i("7rYDH"),a=i("04jNI"),s=i("5sxXJ");function o(t){r.cardList.insertAdjacentHTML("beforeend",function(t=[]){return async function(){if(localStorage.key===d);}(),t.map((t=>{const{id:e,title:n,poster_path:i,genre_ids:l,release_date:a}=t;return`<li class="home-card__link" id=${e}>\n\t\t\t\t<div class = "home-card__thumb">\n\t\t\t\t<picture class="home-card__poster">\n\t\t\t\t\t\t  <source media="(min-width:1280px)"  srcset="https://image.tmdb.org/t/p/w500${i}">\n\t\t\t\t\t\t  <source media="(min-width:768px)"  srcset="https://image.tmdb.org/t/p/w400${i}">\n\t\t\t\t\t\t  <img class="home-card__img" src="https://image.tmdb.org/t/p/w300${i}" alt="${n}" loading="lazy">\n\t\t\t\t\t  </picture>\n\t\t\t\t  </div>\n\t\t\t\t  <div class="card__content">\n\t\t\t\t  <h2 class="card__title">${n||"no name"}</h2>\n\t\t\t\t  <p class="card__text">${function(t){const e=m.filter((e=>t.includes(e.id))).map((t=>t.name));return console.log("list :>> ",e),e.length>2?`${e[0]}, ${e[1]}, Others`:e.join(", ")}(l)} | ${a?a.slice(0,4):"no infomation about release date"}</p>\n\t\t\t</div>\n\t\t\t\t  </li>`})).join("")}(t))}function c(){r.cardList.innerHTML=""}const r={cardList:document.querySelector(".cards__list")},d="genres";let m=s.genres;const u=document.getElementById("foo"),f=new(0,l.default);!async function(){try{a.spinner.spin(u);const t=(await f.fetchPopularMovies()).results;let e=Math.ceil(t.length/10),n=[];for(let t=1;t<=e;t++){let i=document.createElement("li");if(1==t){let t=document.createElement("li");t.innerHTML="<li>&#8592;</li>",p.appendChild(t)}if(e<=5&&(i.innerHTML=t,p.appendChild(i),n.push(i)),e>5){if(i.innerHTML=t,p.appendChild(i),n.push(i),1==t){let t=document.createElement("li");t.innerHTML="...",p.appendChild(t)}if(e-1==t){let t=document.createElement("li");t.innerHTML="...",p.appendChild(t)}}if(t==e){let t=document.createElement("li");t.innerHTML="<li>&#8594;</li>",p.appendChild(t)}}let i=function(){let e;return function(n){e&&e.classList.remove("active"),e=n,n.classList.add("active");let i=10*(+n.innerHTML-1),l=i+10;o(t.slice(i,l))}}();i(n[0]);for(let t of n)t.addEventListener("click",(function(){c(),i(this)}))}catch(t){console.log(t)}finally{a.spinner.stop()}}();let p=document.querySelector("#pagination");i("biHlP");var _=i("2shzp"),h=i("iQIUW"),g=(a=i("04jNI"),i("b5rV1")),v=(l=i("7rYDH"),i("4WdgQ"));const y=document.getElementById("foo"),b={modalFilmBackdrop:document.querySelector("[data-modal-film]"),modalFilm:document.querySelector(".modal-film"),cardFilm:document.querySelector(".cards__list"),cardFilmLibrary:document.querySelector(".container-library")};let L;function w(t,e){const n=Number(t.target.dataset.id);console.log(n),t.target.classList.contains("js-add-watched")?(0,g.saveToLocalStorage)(g.WATCHED_FILM,n):t.target.classList.contains("js-add-queue")&&(0,g.saveToLocalStorage)(g.QUEUED_FILM,n)}function E(){window.removeEventListener("keydown",T),document.removeEventListener("click",$),b.modalFilmBackdrop.classList.add("is-hidden"),b.modalFilm.classList.add("is-hidden"),document.body.classList.remove("no-scroll")}function $(t){(t.target.classList.contains("close-modal__btn-text")||t.target.classList.contains("close-modal__btn-inner")||t.target.classList.contains("close-modal__btn-text"))&&E()}function T(t){"Escape"===t.code&&E()}async function M(t){try{a.spinner.spin(y);const e=await _.default.get(`https://api.themoviedb.org/3/movie/${t}?api_key=9fae0fdf266213c68361ca578a95b948&language=en-US`);return await e.data}catch(t){console.log(t.message)}finally{a.spinner.stop()}}function S(t){const e=k(t);return b.modalFilm.insertAdjacentHTML("beforeend",e),t}b.cardFilm.addEventListener("click",(function(t){b.modalFilmBackdrop.classList.remove("is-hidden"),b.modalFilm.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),document.addEventListener("click",$),window.addEventListener("keydown",T);const e=t.target.closest(".home-card__link").id;L=Number(e),async function(t){try{const e=await M(t);b.modalFilm.innerHTML="",S(e)}catch(t){E(),h.Notify.failure("Sorry, movie not found. Please try again.")}}(e),M(e).then((t=>(b.modalFilm.innerHTML="",S(t)))),b.modalFilmBackdrop.classList.contains("is-hidden")||b.modalFilm.addEventListener("click",w);(new(0,l.default)).fetchMoviesTrailers(e).then((t=>{if(console.log(t),0===t.results.length)return;document.querySelector(".modal-film-card-wrapper").remove();const e=(0,v.markupMovieTrailer)(t.results[0].key);b.modalFilm.insertAdjacentHTML("afterbegin",e)})).catch((t=>console.log(t)))})),b.modalFilmBackdrop.addEventListener("click",(function(t){t.currentTarget===t.target&&E()}));const k=({id:t,title:e,original_title:n,overview:i,poster_path:l,vote_average:a,vote_count:s,popularity:o,genres:c})=>`\n  <button\n      type="button"\n      class="modal-film__close-button close-modal__btn"\n    >\n    <div class="close-modal__btn-inner">\n    <span class="close-modal__btn-text">Back\n    </span> </div>\n    </button>\n  <div class="modal-film__card"  id="${t}">\n  <div class="modal-film-card-wrapper">\n  <picture class="modal-film__img>\n  <source media="(min-width:1024px)" srcset="https://image.tmdb.org/t/p/w500${l}">\n  <source media="(min-width:768px)"  srcset="https://image.tmdb.org/t/p/w400${l}">\n  <img class="img-film__poster" src="https://image.tmdb.org/t/p/w300${l}"  "alt="${e}" loading="lazy"  >\n</picture>\n</div>\n<div class="movie-info">\n  <h2 class="film-title">${e}</h2>\n  <ul class="film-title__list-film">\n  <li class="film-title__item-film"><p class="film-title__value" >Vote / Votes </p><p class="film-title__desc-film"><span class="film-title__vote_average">${a}</span><span class="film-title__slash">/</span><span class="film-title__vote_count">${s}</span> </p> </li>\n  <li class="film-title__item-film"><p class="film-title__value">Popularity</p><p class="film-title__desc-film">${o}</p></li>\n  <li class="film-title__item-film"><p class="film-title__value">Original Title</p><p class="film-title__desc-film">${n}</p></li>\n  <li class="film-title__item-film"><p class="film-title__value">Genre</p><p class="film-title__desc-film">${c.map((t=>t.name)).join(", ")}</p></li>\n \n  </ul>\n  <h3 class="about-title">About ${n}</h3>\n  <p class="text-about-movie">${i}</p>\n\n  <ul class="modal-window_list-btn">\n  <li class="modal-window_list-item-btn"><button class="modal-window__watched-btn js-add-watched" type="button" data-id=${t}>add to Watched</button></li>\n  <li class="modal-window_list-item-btn"><button class="modal-window__queued-btn js-add-queue" type="button" data-id=${t}>Add to queue</button></li>\n</ul>\n  </div>\n`;l=i("7rYDH"),a=i("04jNI"),h=i("iQIUW");const F={cardList:document.querySelector(".gallery__list"),formSearch:document.querySelector(".header__form"),notification:document.querySelector(".header__notification")},q=document.getElementById("foo"),H=new(0,l.default);F.formSearch.addEventListener("submit",(function(t){if(t.preventDefault(),F.notification.textContent="",H.query=t.currentTarget.elements.searchQuery.value.trim().toLowerCase(),""===H.query)return void h.Notify.info("Search result not successful. Enter the correct movie name and try again.");!async function(){try{a.spinner.spin(q);const t=await H.fetchSearchMovies(),e=t.results;if(console.log(e),o(e),console.log(t),c(),o(e),0===t.total_results)h.Notify.info("Search result not successful. Enter the correct movie name and try again.")}catch(t){h.Notify.info("Search result not successful. Enter the correct movie name and try again.")}finally{a.spinner.stop()}}()})),i("h53OD").btnUp.addEventListener();
//# sourceMappingURL=index.547f0b99.js.map
