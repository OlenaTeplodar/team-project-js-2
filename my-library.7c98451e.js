!function(){const e={watchedBtn:document.querySelector(".watched-btn"),queueBtn:document.querySelector(".queue-btn"),galleryLibrary:document.querySelector(".container-library")};async function t(){e.watchedBtn.classList.add("btn-active"),e.queueBtn.classList.remove("btn-active");try{const t=await c("WATCHED-FILM");if(console.log(t),t&&Object.keys(t).length){a();const o=n(t);e.galleryLibrary.insertAdjacentHTML("beforeend",o)}else{a();const t=o();e.galleryLibrary.insertAdjacentHTML("beforeend",t)}}catch(e){console.log(e.message)}}function n(e=[]){return e.map((e=>{const{id:t,title:n,poster_path:o,genres:c,release_date:a,vote_average:i}=e,r=c.map((e=>e.name)).reduce(((e,t,n,o)=>o.length>2?`${o[0]}, ${o[1]}, Others`:o.join(", ")),"");return`<li class="home-card__link" id=${t}>\n\t\t</div class = "home-card__thumb">\n\t\t<picture class="home-card__poster">\n\t\t\t\t  <source media="(min-width:1280px)"  srcset="https://image.tmdb.org/t/p/w500${o}">\n\t\t\t\t  <source media="(min-width:768px)"  srcset="https://image.tmdb.org/t/p/w400${o}">\n\t\t\t\t  <img class="home-card__img" src="https://image.tmdb.org/t/p/w300${o}" alt="${n}" loading="lazy">\n\t\t\t  </picture>\n\t\t  \n\t\t  <h2 class='card__title'>${n}</h2>\n\t\t  <p class='card__text' id=${t}>${r||"---"} | ${new Date(a).getFullYear()}\n        <span class="card__rating">${i.toFixed(1)}</span> </p>\n\t\t</div>\n\t\t  </li>`})).join("")}function o(){return'\n  <li class="container-nothing">\n      <div class="container-nothing__content">\n        <h2 class="container-nothing__title">Your library is empty!</h2>\n        <p class="container-nothing__text">\n          <a\n            title="Link to main page"\n            class="container-nothing__link"\n            href="/src/index.html"\n            >GO TO</a\n          >\n          movie selection.\n        </p>\n      </div>\n    </li>\n    '}function c(e){try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}function a(){e.galleryLibrary.innerHTML=""}e.watchedBtn.addEventListener("click",t);const i={watchedBtn:document.querySelector(".watched-btn"),queueBtn:document.querySelector(".queue-btn"),galleryLibrary:document.querySelector(".container-library")};i.queueBtn.addEventListener("click",(async function(){i.watchedBtn.classList.remove("btn-active"),i.queueBtn.classList.add("btn-active");try{const e=await c("QUEUED-FILM");if(console.log(e),e&&Object.keys(e).length){a();const t=n(e);i.galleryLibrary.insertAdjacentHTML("beforeend",t)}else{a();const e='\n  <li class="container-nothing">\n      <div class="container-nothing__content">\n        <h2 class="container-nothing__title">Your library is empty!</h2>\n        <p class="container-nothing__text">\n          <a\n            title="Link to main page"\n            class="container-nothing__link"\n            href="/src/index.html"\n            >GO TO</a\n          >\n          movie selection.\n        </p>\n      </div>\n    </li>\n    ';i.galleryLibrary.insertAdjacentHTML("beforeend",e)}}catch(e){console.log(e.message)}}));const r={openModalLink:document.querySelector(".footer__link"),closeModalBtn:document.querySelector(".close-modal__btn"),modalTeam:document.querySelector("[data-team-modal]")};function s(){r.modalTeam.classList.add("is-hidden"),document.body.style.overflow="auto",window.addEventListener("keydown",l)}function l(e){"Escape"===e.code&&s()}r.openModalLink.addEventListener("click",(function(){document.body.style.overflow="hidden",r.modalTeam.classList.remove("is-hidden")})),r.closeModalBtn.addEventListener("click",s),r.modalTeam.addEventListener("click",(function(e){e.currentTarget===e.target&&s()}));({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>400?this.show():this.hide()})),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener(),t()}();
//# sourceMappingURL=my-library.7c98451e.js.map
