{"mappings":"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","sources":["src/js/watched-library.js","src/js/queue-library.js","src/js/about-team-modal.js","src/js/button-up.js","src/my-library.js"],"sourcesContent":["const refs = {\n  watchedBtn: document.querySelector('.watched-btn'),\n  queueBtn: document.querySelector('.queue-btn'),\n  galleryLibrary: document.querySelector('.container-library'),\n};\n\nrefs.watchedBtn.addEventListener('click', onWatchedLibrary);\n\nexport async function onWatchedLibrary() {\n  refs.watchedBtn.classList.add('btn-active');\n  refs.queueBtn.classList.remove('btn-active');\n  try {\n    const moviesArray = await loadFromLocalStorage('WATCHED-FILM');\n    console.log(moviesArray);\n    if (!moviesArray || !Object.keys(moviesArray).length) {\n      clear();\n      const markupNothing = createMarkupWhenLocalStorageEmpty();\n      refs.galleryLibrary.insertAdjacentHTML('beforeend', markupNothing);\n    } else {\n      clear();\n      const markup = createMoviesCard(moviesArray);\n      refs.galleryLibrary.insertAdjacentHTML('beforeend', markup);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function createMoviesCard(cards = []) {\n  return cards\n    .map(card => {\n      const { id, title, poster_path, genres, release_date, vote_average } =\n        card;\n      const genresForRender = concatGenres(genres.map(genre => genre.name));\n      return `<li class=\"home-card__link\" id=${id}>\n\t\t</div class = \"home-card__thumb\">\n\t\t<picture class=\"home-card__poster\">\n\t\t\t\t  <source media=\"(min-width:1280px)\"  srcset=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n\t\t\t\t  <source media=\"(min-width:768px)\"  srcset=\"https://image.tmdb.org/t/p/w400${poster_path}\">\n\t\t\t\t  <img class=\"home-card__img\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\" loading=\"lazy\">\n\t\t\t  </picture>\n\t\t  \n\t\t  <h2 class='card__title'>${title}</h2>\n\t\t  <p class='card__text' id=${id}>${\n        genresForRender ? genresForRender : '---'\n      } | ${new Date(release_date).getFullYear()}\n        <span class=\"card__rating\">${vote_average.toFixed(1)}</span> </p>\n\t\t</div>\n\t\t  </li>`;\n    })\n    .join('');\n}\nfunction concatGenres(arrOfGenresName) {\n  return arrOfGenresName.reduce((acc, genre, index, arr) => {\n    if (arr.length > 2) {\n      acc = `${arr[0]}, ${arr[1]}, Others`;\n    } else {\n      acc = arr.join(', ');\n    }\n\n    return acc;\n  }, '');\n}\n\nexport function createMarkupWhenLocalStorageEmpty() {\n  return `\n  <li class=\"container-nothing\">\n      <div class=\"container-nothing__content\">\n        <h2 class=\"container-nothing__title\">Your library is empty!</h2>\n        <p class=\"container-nothing__text\">\n          <a\n            title=\"Link to main page\"\n            class=\"container-nothing__link\"\n            href=\"/src/index.html\"\n            >GO TO</a\n          >\n          movie selection.\n        </p>\n      </div>\n    </li>\n    `;\n}\n\nexport function loadFromLocalStorage(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\nexport function clear() {\n  refs.galleryLibrary.innerHTML = '';\n}\n","import {\n  createMoviesCard,\n  createMarkupWhenLocalStorageEmpty,\n  loadFromLocalStorage,\n  clear,\n} from './watched-library';\n\nconst refs = {\n  watchedBtn: document.querySelector('.watched-btn'),\n  queueBtn: document.querySelector('.queue-btn'),\n  galleryLibrary: document.querySelector('.container-library'),\n};\n\nrefs.queueBtn.addEventListener('click', onQueueLibrary);\n\nexport async function onQueueLibrary() {\n  refs.watchedBtn.classList.remove('btn-active');\n  refs.queueBtn.classList.add('btn-active');\n  try {\n    const moviesArray = await loadFromLocalStorage('QUEUED-FILM');\n    console.log(moviesArray);\n\n    if (!moviesArray || !Object.keys(moviesArray).length) {\n      clear();\n      const markupNothing = createMarkupWhenLocalStorageEmpty();\n      refs.galleryLibrary.insertAdjacentHTML('beforeend', markupNothing);\n    } else {\n      clear();\n      const markup = createMoviesCard(moviesArray);\n      refs.galleryLibrary.insertAdjacentHTML('beforeend', markup);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","const refs = {\n  openModalLink: document.querySelector('.footer__link'),\n  closeModalBtn: document.querySelector('.close-modal__btn'),\n  modalTeam: document.querySelector('[data-team-modal]'),\n};\n\nrefs.openModalLink.addEventListener('click', onOpenModal);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.modalTeam.addEventListener('click', onBackdropClick);\n\nfunction onOpenModal() {\n  document.body.style.overflow = 'hidden';\n  refs.modalTeam.classList.remove('is-hidden');\n}\n\nfunction onCloseModal() {\n  refs.modalTeam.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n  window.addEventListener('keydown', onEscDown);\n}\nfunction onBackdropClick(event) {\n  //   event.currentTarget це бекдроп, до якого прив'язана подія, event.target це елемент, який викликав подію. Якщо вони співпадають, то користувач натиснув на область накладення, а не у середині модального вікна\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscDown(event) {\n  const KEY_CODE = 'Escape';\n  if (event.code === KEY_CODE) {\n    onCloseModal();\n  }\n}\n","export const btnUp = {\n  el: document.querySelector('.btn-up'),\n  show() {\n    // удалим у кнопки класс btn-up_hide\n    this.el.classList.remove('btn-up_hide');\n  },\n  hide() {\n    // добавим к кнопке класс btn-up_hide\n    this.el.classList.add('btn-up_hide');\n  },\n  addEventListener() {\n    // при прокрутке содержимого страницы\n    window.addEventListener('scroll', () => {\n      // определяем величину прокрутки\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      // если страница прокручена больше чем на 400px, то делаем кнопку видимой, иначе скрываем\n      scrollY > 400 ? this.show() : this.hide();\n    });\n    // при нажатии на кнопку .btn-up\n    document.querySelector('.btn-up').onclick = () => {\n      // переместим в начало страницы\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n","import './js/watched-library';\nimport './js/queue-library';\nimport './js/about-team-modal';\nimport { btnUp } from './js/button-up';\nimport { onWatchedLibrary } from './js/watched-library';\nbtnUp.addEventListener();\n\nonWatchedLibrary();\n"],"names":["$71fb53b734638d70$var$refs","watchedBtn","document","querySelector","queueBtn","galleryLibrary","async","$71fb53b734638d70$export$852075710b39decd","classList","add","remove","moviesArray","$71fb53b734638d70$export$e68c847c0bceb7d5","console","log","Object","keys","length","$71fb53b734638d70$export$42ffd38884aecdac","markup","$71fb53b734638d70$export$8b2723ee49351d8","insertAdjacentHTML","markupNothing","$71fb53b734638d70$export$f03c78e80b131f2e","error","message","cards","map","card","id","title","poster_path","genres","release_date","vote_average","genresForRender","genre","name","reduce","acc","index","arr","join","Date","getFullYear","toFixed","key","serializedState","localStorage","getItem","undefined","JSON","parse","innerHTML","addEventListener","$84758fef4061c729$var$refs","$83a300c7554d8f87$var$refs","openModalLink","closeModalBtn","modalTeam","$83a300c7554d8f87$var$onCloseModal","body","style","overflow","window","$83a300c7554d8f87$var$onEscDown","event","code","currentTarget","target","el","show","this","hide","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior"],"version":3,"file":"my-library.5b44a147.js.map"}